#!/usr/bin/env bash

mkdir -p .nondex/output

function run() {
  local CRATE=$1
  local REPO=$2

  ./x.sh test --crate "${CRATE}" --repo "${REPO}" 2>&1 \
    | tee ".nondex/output/${CRATE}.txt"
}

run 'ahash' 'https://github.com/tkaitchuck/ahash'
run 'aho-corasick' 'https://github.com/BurntSushi/aho-corasick'
run 'anyhow' 'https://github.com/dtolnay/anyhow'
run 'autocfg' 'https://github.com/cuviper/autocfg'
run 'base64' 'https://github.com/marshallpierce/rust-base64'
run 'bitflags' 'https://github.com/bitflags/bitflags'
run 'block-buffer' 'https://github.com/RustCrypto/utils'
run 'byteorder' 'https://github.com/BurntSushi/byteorder'
run 'bytes' 'https://github.com/tokio-rs/bytes'
run 'cc' 'https://github.com/rust-lang/cc-rs'
run 'cfg-if' 'https://github.com/alexcrichton/cfg-if'
run 'clap' 'https://github.com/clap-rs/clap'
run 'clap_lex' 'https://github.com/clap-rs/clap'
run 'crossbeam-utils' 'https://github.com/crossbeam-rs/crossbeam'
run 'digest' 'https://github.com/RustCrypto/traits'
run 'either' 'https://github.com/rayon-rs/either'
run 'equivalent' 'https://github.com/cuviper/equivalent'
run 'errno' 'https://github.com/lambda-fairy/rust-errno'
run 'fastrand' 'https://github.com/smol-rs/fastrand'
run 'futures-core' 'https://github.com/rust-lang/futures-rs'
run 'futures-sink' 'https://github.com/rust-lang/futures-rs'
run 'futures-task' 'https://github.com/rust-lang/futures-rs'
run 'futures-util' 'https://github.com/rust-lang/futures-rs'
run 'getrandom' 'https://github.com/rust-random/getrandom'
run 'h2' 'https://github.com/hyperium/h2'
run 'hashbrown' 'https://github.com/rust-lang/hashbrown'
run 'heck' 'https://github.com/withoutboats/heck'
run 'http' 'https://github.com/hyperium/http'
run 'http-body' 'https://github.com/hyperium/http-body'
run 'hyper' 'https://github.com/hyperium/hyper'
run 'idna' 'https://github.com/servo/rust-url/'
run 'indexmap' 'https://github.com/indexmap-rs/indexmap'
run 'itertools' 'https://github.com/rust-itertools/itertools'
run 'itoa' 'https://github.com/dtolnay/itoa'
run 'lazy_static' 'https://github.com/rust-lang-nursery/lazy-static.rs'
run 'libc' 'https://github.com/rust-lang/libc'
run 'linux-raw-sys' 'https://github.com/sunfishcode/linux-raw-sys'
run 'lock_api' 'https://github.com/Amanieu/parking_lot'
run 'log' 'https://github.com/rust-lang/log'
run 'memchr' 'https://github.com/BurntSushi/memchr'
run 'memoffset' 'https://github.com/Gilnaa/memoffset'
run 'miniz_oxide' 'https://github.com/Frommi/miniz_oxide/tree/master/miniz_oxide'
run 'mio' 'https://github.com/tokio-rs/mio'
run 'num-traits' 'https://github.com/rust-num/num-traits'
run 'once_cell' 'https://github.com/matklad/once_cell'
run 'parking_lot' 'https://github.com/Amanieu/parking_lot'
run 'parking_lot_core' 'https://github.com/Amanieu/parking_lot'
run 'percent-encoding' 'https://github.com/servo/rust-url/'
run 'pin-project-lite' 'https://github.com/taiki-e/pin-project-lite'
run 'ppv-lite86' 'https://github.com/cryptocorrosion/cryptocorrosion'
run 'proc-macro2' 'https://github.com/dtolnay/proc-macro2'
run 'quote' 'https://github.com/dtolnay/quote'
run 'rand' 'https://github.com/rust-random/rand'
run 'rand_chacha' 'https://github.com/rust-random/rand'
run 'rand_core' 'https://github.com/rust-random/rand'
run 'redox_syscall' 'https://gitlab.redox-os.org/redox-os/syscall'
run 'regex' 'https://github.com/rust-lang/regex'
run 'regex-automata' 'https://github.com/rust-lang/regex/tree/master/regex-automata'
run 'regex-syntax' 'https://github.com/rust-lang/regex/tree/master/regex-syntax'
run 'rustix' 'https://github.com/bytecodealliance/rustix'
run 'rustls' 'https://github.com/rustls/rustls'
run 'rustls-pemfile' 'https://github.com/rustls/pemfile'
run 'rustls-webpki' 'https://github.com/rustls/webpki'
run 'ryu' 'https://github.com/dtolnay/ryu'
run 'scopeguard' 'https://github.com/bluss/scopeguard'
run 'semver' 'https://github.com/dtolnay/semver'
run 'serde' 'https://github.com/serde-rs/serde'
run 'serde_derive' 'https://github.com/serde-rs/serde'
run 'serde_json' 'https://github.com/serde-rs/json'
run 'sha2' 'https://github.com/RustCrypto/hashes'
run 'slab' 'https://github.com/tokio-rs/slab'
run 'smallvec' 'https://github.com/servo/rust-smallvec'
run 'socket2' 'https://github.com/rust-lang/socket2'
run 'spin' 'https://github.com/mvdnes/spin-rs.git'
run 'strsim' 'https://github.com/rapidfuzz/strsim-rs'
run 'syn' 'https://github.com/dtolnay/syn'
run 'thiserror' 'https://github.com/dtolnay/thiserror'
run 'thiserror-impl' 'https://github.com/dtolnay/thiserror'
run 'tinyvec' 'https://github.com/Lokathor/tinyvec'
run 'tinyvec_macros' 'https://github.com/Soveu/tinyvec_macros'
run 'tokio' 'https://github.com/tokio-rs/tokio'
run 'tokio-rustls' 'https://github.com/rustls/tokio-rustls'
run 'toml' 'https://github.com/toml-rs/toml'
run 'toml_edit' 'https://github.com/toml-rs/toml'
run 'unicode-bidi' 'https://github.com/servo/unicode-bidi'
run 'unicode-ident' 'https://github.com/dtolnay/unicode-ident'
run 'unicode-normalization' 'https://github.com/unicode-rs/unicode-normalization'
run 'url' 'https://github.com/servo/rust-url'
run 'version_check' 'https://github.com/SergioBenitez/version_check'
run 'winnow' 'https://github.com/winnow-rs/winnow'
run 'zerocopy' 'https://github.com/google/zerocopy'

#run 'windows_x86_64_msvc' 'https://github.com/microsoft/windows-rs'
#run 'windows-sys' 'https://github.com/microsoft/windows-rs'
#run 'windows-targets' 'https://github.com/microsoft/windows-rs'
#run 'windows_x86_64_gnu' 'https://github.com/microsoft/windows-rs'
#run 'windows_i686_msvc' 'https://github.com/microsoft/windows-rs'
#run 'windows_aarch64_msvc' 'https://github.com/microsoft/windows-rs'
#run 'windows_i686_gnu' 'https://github.com/microsoft/windows-rs'
#run 'windows_x86_64_gnullvm' 'https://github.com/microsoft/windows-rs'
#run 'windows_aarch64_gnullvm' 'https://github.com/microsoft/windows-rs'
